<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

  <meta name="_csrf" th:content="${_csrf.token}" />
  <meta name="_csrf_header" th:content="${_csrf.headerName}" />

  <title>update user</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
        crossorigin="anonymous">
  <style>body { background-color: black;   }</style>
</head>
<body>
<div th:if="${param.success}"  >
  <div class="alex alert-info">User updated successfully! </div>
</div>

<div class="container-fluid bg-dark text-light py-3">   <header class="text-center">     <h2 class="display-8">Update User Info</h2>
</header>  </div>



<section class="container my-2 bg-dark w-50 text-light p-2" >

  <form action="/admin/updateuser" method="post" th:object="${user}" class="row g-3 p-3"
        style="box-shadow: 0 0 100px rgba(31, 81, 255, 0.8);">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
    <div style="text-align: center;">
      <h4 style="color: lime;">Update user</h4>
      <br>

      <label for="id" class="form-label" style="margin-right: 10px;">user id</label>
      <input type="text" th:name="id" id="id" th:field="${user.id}" readonly="readonly" style="width: 30px; background-color: lightgreen;"/>

    </div>
    <div class="col-md-6">
      <label for="userName" class="form-label">User Name</label>
      <input type="text" th:name="userName" class="form-control"
             th:value="${user.userName}" id="userName" readonly/>
    </div>

    <div class="col-md-6">
      <label for="fullName" class="form-label">full name</label>
      <input type="text" th:name="fullName" class="form-control"
             th:value="${user.fullName}" id="fullName" />
    </div>

    <div class="col-md-6">
      <label for="email" class="form-label">Email</label>
      <input type="email" th:name="email" class="form-control"
             th:value="${user.email}" id="email" readonly/>
    </div>
    <div class="col-md-6">
      <label for="phoneNumber" class="form-label">Phone Number</label>
      <input type="text" th:name="phoneNumber" class="form-control"
             th:value="${user.phoneNumber}" id="phoneNumber" />
    </div>

    <div class="col-md-6" style="color: lime">
      <label for="enabled" class="form-label">Enabled: 0  or 1</label>
      <input type="text" th:name="enabled" class="form-control"
             th:value="${user.enabled}" id="enabled" />
    </div>

    <div class="form-group">
      <label for="role">Current Roles for User :</label>
      <select id="role" name="role" class="form-control" multiple="multiple">
        <option th:each="y : ${allRoles}"
                th:value="${y}" style="font-weight: bold;"
                th:text="${y.name}" th:selected="${databaseRoles.contains(y)}"></option>
      </select>
    </div>

    <div class="col-md-12">
      <label for="role" class="form-label" style="color:lime">Please Select Roles for User Before Updating!</label>
      <br>
      <div style="display: flex; flex-wrap: wrap;">

        <div style="margin-top:5px; ">
          <label th:for="userCheckbox">USER</label>
          <input type="checkbox" th:id="userCheckbox" th:name="updatedRoles" th:value="USER"/>
        </div>
        <br>
        <div style="margin-top:5px;margin-left: 30px ">
          <label th:for="adminCheckbox">ADMIN</label>
          <input type="checkbox" th:id="adminCheckbox" th:name="updatedRoles" th:value="ADMIN" />
        </div>

        <div style="margin-top:5px;margin-left: 30px ">
          <label th:for="superCheckbox">SUPERVISOR</label>
          <input type="checkbox" th:id="superCheckbox" th:name="updatedRoles" th:value="SUPERVISOR"/>
        </div>



      </div>



    </div>


    <div class="col-md-12">
      <button type="submit" class="btn btn-primary" style="margin-right: 20px;">Update User</button>
    </div>

  </form>



</section>



</body>
</html>



<!--<div class="form-group">-->
<!--  <label for="role">Current Roles for User :</label>-->
<!--  <select id="role" name="role" class="form-control" multiple="multiple">-->
<!--    <option th:each="y : ${allRoles}"-->
<!--            th:value="${y}" style="font-weight: bold;"-->
<!--            th:text="${y.name}" th:selected="${userRoles.contains(y)}"></option>-->
<!--  </select>-->
<!--</div>-->
